<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FDK Store — Online Shopping</title>

<!-- Tailwind (CDN) -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Three.js + OrbitControls + GLTFLoader -->
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>

<!-- Google Identity Services -->
<script src="https://accounts.google.com/gsi/client" async defer></script>

<style>
  :root{
    --bg:#061028;
    --glass: rgba(255,255,255,0.04);
    --muted:#bfcfe0;
  }
  body{ background: linear-gradient(180deg,#050615 0%, #07122a 100%); color:#e8f0ff; font-family: Inter, Poppins, system-ui, sans-serif; min-height:100vh; }
  .glass { background: var(--glass); backdrop-filter: blur(8px); border-radius: 12px; }
  .neon-yellow { box-shadow: 0 6px 30px rgba(255,215,0,0.12), 0 0 12px rgba(255,215,0,0.06); }
  .neon-pink { box-shadow: 0 6px 30px rgba(255,102,178,0.08), 0 0 12px rgba(255,102,178,0.05); }
  .product-card { transition: transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s; }
  .product-card:hover {
    transform: rotateY(5deg) rotateX(2deg) translateZ(10px) scale(1.03);
    box-shadow: 0 15px 50px rgba(0,0,0,0.6);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  const productCards = document.querySelectorAll('.product-card');

productCards.forEach(card => {
  card.addEventListener('touchmove', e => {
    if(e.touches.length === 1){
      const touch = e.touches[0];
      const rect = card.getBoundingClientRect();
      const x = touch.clientX - rect.left;
      const y = touch.clientY - rect.top;
      const cx = rect.width/2;
      const cy = rect.height/2;
      const dx = (x - cx)/cx;
      const dy = (y - cy)/cy;
      card.style.transform = `rotateY(${dx*5}deg) rotateX(${-dy*5}deg) translateZ(5px) scale(1.03)`;
      card.style.boxShadow = '0 15px 50px rgba(0,0,0,0.6)';
    }
  });

  card.addEventListener('touchend', () => {
    card.style.transform = 'rotateY(0deg) rotateX(0deg) translateZ(0) scale(1)';
    card.style.boxShadow = '0 10px 40px rgba(0,0,0,0.6)';
  });
});
  .badge { font-weight:700; font-size:.75rem; padding:.25rem .6rem; border-radius:999px; }
  .cursor-grab { cursor: grab; }
  .cursor-grabbing { cursor: grabbing; }
  .cart-panel { right:-380px; transition: right .32s ease; }
  .cart-panel.open { right: 16px; }
  /* Buttons 3D hover effect */
button, a {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

button:hover, a:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
                                 }
</style>
</head>
<body>

<!-- NAV -->
<header class="flex items-center justify-between px-6 py-4">
  <div class="flex items-center gap-3">
    <div class="text-2xl font-bold">FDK Store</div>
    <div class="text-sm text-slate-300 hidden md:block">— Trusted online store</div>
  </div>

  <div class="flex items-center gap-3">
    <div id="userArea" class="flex items-center gap-3">
      <button id="loginBtn" class="hidden md:inline-flex items-center gap-2 bg-gradient-to-r from-yellow-400 to-pink-400 text-black px-4 py-2 rounded-full font-semibold neon-yellow">
        Login / Signup
      </button>
    </div>

    <button id="cartToggle" title="Open Cart" class="relative inline-flex items-center gap-2 px-3 py-2 rounded-full glass">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 7m12-7l2 7M9 21h.01M15 21h.01" /></svg>
      <span id="cartCount" class="text-sm text-slate-300">0</span>
    </button>
  </div>
</header>

<!-- HERO -->
<section class="px-6 py-8 grid lg:grid-cols-2 gap-8 items-center">
  <div>
    <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">FDK Store — <span class="text-yellow-400">Online Shopping</span></h1>
    <p class="mt-4 text-slate-300 max-w-xl">Every product you need, easily available at the latest and best prices.</p>
    <div class="flex gap-3 mt-6">
      <a href="#products" class="px-5 py-3 rounded-full bg-yellow-400 text-black font-semibold neon-yellow">Explore Collection</a>
      <button id="learnBtn" class="px-4 py-3 rounded-full glass text-sm">Learn More</button>
    </div>
    <div class="mt-6">
      <p class="text-sm text-slate-300">Hello, <span id="greetingName">Guest</span> </p>
    </div>
  </div>

  <!-- 3D Canvas card -->
  <div class="w-full flex justify-center">
    <div id="viewerWrap" class="glass neon-pink p-3 rounded-2xl" style="width:360px; max-width:100%;">
      <canvas id="heroCanvas" class="w-full h-80 rounded-xl"></canvas>
      <div class="mt-3 flex items-center justify-between">
        <div>
          <div id="viewerTitle" class="font-semibold text-lg">FDK — Stainless Watch</div>
          <div class="text-sm text-slate-300">Stainless • Quartz • Water-resistant</div>
        </div>
        <div class="flex items-center gap-2">
          <div id="priceTag" class="font-bold text-lg">$89.99</div>
        </div>
      </div>
      <div class="mt-3 flex gap-2">
        <button id="buyNowHero" class="flex-1 px-3 py-2 rounded-full bg-yellow-400 text-black font-semibold">Buy</button>
      </div>
    </div>
  </div>
</section>
<script>
  // ===== HERO 3D HOVER EFFECT =====
  const heroWrap = document.getElementById('viewerWrap');

  heroWrap.addEventListener('mousemove', e => {
    const rect = heroWrap.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const cx = rect.width/2;
    const cy = rect.height/2;
    const dx = (x - cx)/cx;
    const dy = (y - cy)/cy;
    heroWrap.style.transform = `rotateY(${dx*5}deg) rotateX(${-dy*5}deg) translateZ(5px)`;
  });

  heroWrap.addEventListener('mouseleave', () => {
    heroWrap.style.transform = 'rotateY(0deg) rotateX(0deg) translateZ(0)';
  });
  // Touch support for mobile
heroWrap.addEventListener('touchmove', e => {
  if(e.touches.length === 1){
    const touch = e.touches[0];
    const rect = heroWrap.getBoundingClientRect();
    const x = touch.clientX - rect.left;
    const y = touch.clientY - rect.top;
    const cx = rect.width/2;
    const cy = rect.height/2;
    const dx = (x - cx)/cx;
    const dy = (y - cy)/cy;
    heroWrap.style.transform = `rotateY(${dx*5}deg) rotateX(${-dy*5}deg) translateZ(5px)`;
  }
});

heroWrap.addEventListener('touchend', () => {
  heroWrap.style.transform = 'rotateY(0deg) rotateX(0deg) translateZ(0)';
});
</script>
  
<!-- PRODUCTS GRID -->
<section id="products" class="px-6 py-10">
  <h2 class="text-2xl font-bold mb-3 text-center">Top Trending Products</h2>
  <p class="text-center text-slate-300 mb-6">Direct add-to-cart for latest products.</p>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    <!-- card 1 -->
    <div class="product-card glass p-4 rounded-2xl">
      <div class="relative">
        <img class="w-full h-48 object-cover rounded-xl" src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=1200&q=80" alt="Headphones">
        <div class="absolute top-3 left-3 badge bg-yellow-400 text-black">Bestseller</div>
        <div class="absolute top-3 right-3 badge bg-black/40 text-slate-200">★ 4.9</div>
      </div>
      <h3 class="mt-3 font-semibold text-lg">Wireless Headphones</h3>
      <p class="text-sm text-slate-300">Noise cancellation • 30h battery</p>
      <div class="mt-3 flex items-center justify-between">
        <div class="font-bold">$59.99</div>
        <div class="flex gap-2">
          <button class="add-btn px-3 py-1 rounded-full bg-pink-400 text-black font-semibold">Add</button>
        </div>
      </div>
    </div>

    <!-- card 2 -->
    <div class="product-card glass p-4 rounded-2xl">
      <div class="relative">
        <img class="w-full h-48 object-cover rounded-xl" src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=1200&q=80" alt="Sneakers">
        <div class="absolute top-3 left-3 badge bg-pink-500 text-black">New</div>
        <div class="absolute top-3 right-3 badge bg-black/40 text-slate-200">★ 4.6</div>
      </div>
      <h3 class="mt-3 font-semibold text-lg">Smart Sneakers</h3>
      <p class="text-sm text-slate-300">Responsive sole • Modern silhouette</p>
      <div class="mt-3 flex items-center justify-between">
        <div class="font-bold">$120.00</div>
        <div class="flex gap-2">
          <button class="add-btn px-3 py-1 rounded-full bg-indigo-400 text-black font-semibold">Add</button>
        </div>
      </div>
      <!-- card 3 -->
    <div class="product-card glass p-4 rounded-2xl">
      <div class="relative">
        <img class="w-full h-48 object-cover rounded-xl" src="https://images.unsplash.com/photo-1512496015851-a90fb38ba796?w=1200&q=80" alt="Sunglasses">
        <div class="absolute top-3 left-3 badge bg-yellow-400 text-black">Sale</div>
        <div class="absolute top-3 right-3 badge bg-black/40 text-slate-200">★ 4.7</div>
      </div>
      <h3 class="mt-3 font-semibold text-lg">Aviator Sunglasses</h3>
      <p class="text-sm text-slate-300">Polarized • UV400</p>
      <div class="mt-3 flex items-center justify-between">
        <div class="font-bold">$45.00</div>
        <div class="flex gap-2">
          <button class="add-btn px-3 py-1 rounded-full bg-yellow-400 text-black font-semibold">Add</button>
        </div>
      </div>
    </div>

    <!-- card 4 -->
    <div class="product-card glass p-4 rounded-2xl">
      <div class="relative">
        <img class="w-full h-48 object-cover rounded-xl" src="https://images.unsplash.com/photo-1511450557836-5e9b0d71bfc4?w=1200&q=80" alt="Bag">
        <div class="absolute top-3 left-3 badge bg-pink-500 text-black">New</div>
        <div class="absolute top-3 right-3 badge bg-black/40 text-slate-200">★ 4.5</div>
      </div>
      <h3 class="mt-3 font-semibold text-lg">LED Bag</h3>
      <p class="text-sm text-slate-300">Stylish • LED accent</p>
      <div class="mt-3 flex items-center justify-between">
        <div class="font-bold">$79.00</div>
        <div class="flex gap-2">
          <button class="add-btn px-3 py-1 rounded-full bg-pink-400 text-black font-semibold">Add</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CART PANEL -->
<aside id="cartPanel" class="cart-panel fixed top-20 right-4 w-80 glass p-4 rounded-2xl shadow-xl z-50">
  <div class="flex items-center justify-between">
    <h3 class="font-bold">Your Cart</h3>
    <button id="closeCart" class="text-sm text-slate-300">Close</button>
  </div>
  <div id="cartList" class="mt-3 text-sm text-slate-200">
    <p class="text-slate-400">No items yet.</p>
  </div>
  <div class="mt-4">
    <div class="flex justify-between text-slate-300"><span>Total</span><span id="cartTotal">$0.00</span></div>
    <button id="checkoutBtn" class="mt-3 w-full rounded-full bg-yellow-400 text-black py-2 font-semibold">Checkout</button>
  </div>
</aside>

<!-- LOGIN MODAL -->
<div id="loginModal" class="fixed inset-0 hidden items-center justify-center z-60">
  <div class="glass p-6 rounded-2xl w-full max-w-md">
    <div class="flex items-center justify-between">
      <h3 class="text-xl font-bold">Login</h3>
      <button id="closeLoginModal" class="text-slate-300">✕</button>
    </div>
    <p class="text-slate-300 mt-2">Sign in with Gmail to show your name across the store.</p>
    <div class="mt-4 space-y-3">
      <div id="gsiButtonWrapper"></div>
      <div id="fallbackLogin" class="space-y-2">
        <input id="fakeName" class="w-full p-2 rounded-md bg-black/20" placeholder="Type a name to simulate login (e.g. Ali Khan)">
        <div class="flex gap-2">
          <button id="fakeLoginBtn" class="flex-1 rounded-full bg-pink-500 text-black py-2 font-semibold">Simulate Login</button>
          <button id="cancelFake" class="flex-1 rounded-full bg-transparent border border-white/10 py-2">Cancel</button>
        </div>
      </div>
      <p class="text-xs text-slate-400 mt-3">Note: For actual Gmail login, add Google OAuth Client ID.</p>
    </div>
  </div>
</div>

<!-- CHAT -->
<div id="chatBubble" class="fixed bottom-6 right-6 w-14 h-14 rounded-full flex items-center justify-center bg-gradient-to-r from-yellow-400 to-pink-400 text-black shadow-xl z-40">💬</div>
<div id="chatBox" class="hidden fixed bottom-24 right-6 glass p-4 w-80 rounded-2xl z-40">
  <div class="flex items-center justify-between">
    <h4 class="font-semibold">Support</h4>
    <button id="closeChat" class="text-slate-300">✕</button>
  </div>
  <p class="text-slate-300 mt-2 text-sm">Hi! I can suggest products or answer order questions.</p>
  <div class="mt-3 flex gap-2">
    <button id="quickShop" class="flex-1 rounded-full bg-yellow-400 text-black py-2">Shop</button>
    <button id="askAgent" class="flex-1 rounded-full glass py-2">Message</button>
  </div>
</div>

<!-- FOOTER -->
<footer class="px-6 py-8 text-slate-300">
  <div class="max-w-6xl mx-auto text-center">
    <div class="font-bold">FDK Store — Trusted online store for watches, fashion, and electronics.</div>
    <div class="mt-3 text-sm text-slate-400">© <span id="year"></span> FDK Store</div>
  </div>
</footer>

<!-- ---------- Script (all app logic) ---------- -->
<script>
document.getElementById('year').textContent = new Date().getFullYear();

/* CART LOGIC */
let cart = [];
function updateCartUI(){
  const cartList = document.getElementById('cartList');
  const cartCount = document.getElementById('cartCount');
  const totalEl = document.getElementById('cartTotal');
  if(cart.length===0){
    cartList.innerHTML='<p class="text-slate-400">No items yet.</p>';
  }else{
    cartList.innerHTML = cart.map(it=>`<div class="flex items-center justify-between py-2"><div><div class="font-semibold">${it.name}</div><div class="text-xs text-slate-400">${it.desc}</div></div><div class="text-sm font-bold">${it.price}</div></div>`).join('');
  }
  cartCount.textContent=cart.length;
  let total = cart.reduce((s,it)=>s+parseFloat(it.price.replace('$','')),0);
  totalEl.textContent='$'+total.toFixed(2);
}
function addToCart(name,price,desc){
  cart.push({name,price,desc});
  updateCartUI();
}

/* CART BUTTONS */
document.getElementById('cartToggle').addEventListener('click',()=>{
  document.getElementById('cartPanel').classList.toggle('open');
});
document.getElementById('closeCart').addEventListener('click',()=> document.getElementById('cartPanel').classList.remove('open'));
document.getElementById('checkoutBtn').addEventListener('click',()=>{
  if(cart.length===0){ alert('Cart is empty.'); return; }
  alert('Checkout simulation: Thank you for your purchase, '+(window.APP_USER_NAME||'Customer')+'!');
  cart=[];
  updateCartUI();
  document.getElementById('cartPanel').classList.remove('open');
});

/* ADD TO CART HANDLER */
document.querySelectorAll('.add-btn').forEach(btn=>{
  btn.addEventListener('click',e=>{
    const card = e.target.closest('.product-card');
    const name = card.querySelector('h3').innerText;
    const desc = card.querySelector('p').innerText;
    const price = card.querySelector('.font-bold').innerText;
    addToCart(name,price,desc);
  });
});

/* CHAT */
document.getElementById('chatBubble').addEventListener('click',()=> document.getElementById('chatBox').classList.toggle('hidden'));
document.getElementById('closeChat').addEventListener('click',()=> document.getElementById('chatBox').classList.add('hidden'));
document.getElementById('quickShop').addEventListener('click',()=> location.href='#products');

/* LOGIN / Gmail */
const loginModal = document.getElementById('loginModal');
document.getElementById('loginBtn').addEventListener('click',()=> loginModal.classList.remove('hidden'));
document.getElementById('closeLoginModal').addEventListener('click',()=> loginModal.classList.add('hidden'));
const GOOGLE_CLIENT_ID='YOUR_GOOGLE_CLIENT_ID';
function setAppUser(name,picture){
  window.APP_USER_NAME=name;
  document.getElementById('greetingName').innerText=name;
  const userArea=document.getElementById('userArea');
  userArea.innerHTML=`<div class="flex items-center gap-2">
    ${picture?`<img src="${picture}" class="w-8 h-8 rounded-full">`:`<div class="w-8 h-8 rounded-full bg-slate-600 flex items-center justify-center text-sm">${name.slice(0,1)}</div>`}
    <div class="hidden md:block text-sm">${name}</div>
    <button id="logoutBtn" class="ml-2 text-sm text-slate-300">Logout</button>
  </div>`;
  document.getElementById('logoutBtn').addEventListener('click',()=>{
    window.APP_USER_NAME=null;
    document.getElementById('greetingName').innerText='Guest';
    userArea.innerHTML=`<button id="loginBtn" class="hidden md:inline-flex items-center gap-2 bg-gradient-to-r from-yellow-400 to-pink-400 text-black px-4 py-2 rounded-full font-semibold neon-yellow">Login / Signup</button>`;
    document.getElementById('loginBtn').addEventListener('click',()=> loginModal.classList.remove('hidden'));
  });
}

/* Fallback simulated login */
document.getElementById('fakeLoginBtn').addEventListener('click',()=>{
  const name=document.getElementById('fakeName').value.trim();
  if(!name){ alert('Type a name'); return; }
  setAppUser(name,null);
  loginModal.classList.add('hidden');
});
document.getElementById('cancelFake').addEventListener('click',()=> loginModal.classList.add('hidden'));

/* 3D VIEWER ANIMATION (Three.js) */
(function init3DViewer(){
  const canvas=document.getElementById('heroCanvas');
  const renderer=new THREE.WebGLRenderer({canvas,antialias:true,alpha:true});
  const scene=new THREE.Scene();
  const camera=new THREE.PerspectiveCamera(35,canvas.clientWidth/canvas.clientHeight,0.1,1000);
  camera.position.set(0,1.2,3);
  const light=new THREE.DirectionalLight(0xffffff,1);
  light.position.set(5,10,7);
  scene.add(light);
  const controls=new THREE.OrbitControls(camera,canvas);
  controls.enableDamping=true;
  controls.enableZoom=false;
  const loader=new THREE.GLTFLoader();
  // Example: load default 3D model (replace with your own)
  loader.load('https://threejs.org/examples/models/gltf/Flamingo.glb', gltf=>{
  const model = gltf.scene;
  model.scale.set(0.5,0.5,0.5);
  scene.add(model);

  // Animate rotation
  function animateModel(){
    requestAnimationFrame(animateModel);
    model.rotation.y += 0.005; // slow rotate
  }
  animateModel();
});
  function animate(){ requestAnimationFrame(animate); renderer.render(scene,camera); controls.update(); }
  animate();
})();
  document.querySelectorAll('.product-card').forEach(card => {
  card.addEventListener('mousemove', e => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    const cx = rect.width/2;
    const cy = rect.height/2;
    const dx = (x - cx)/cx;
    const dy = (y - cy)/cy;
    card.style.transform = `rotateY(${dx*5}deg) rotateX(${-dy*5}deg) translateZ(10px) scale(1.03)`;
  });
  card.addEventListener('mouseleave', () => {
    card.style.transform = 'rotateY(0deg) rotateX(0deg) translateZ(0) scale(1)';
  });
});
</script>
</body>
</html>
